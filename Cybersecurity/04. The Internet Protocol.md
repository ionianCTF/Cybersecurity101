---

## IP – Το Πρωτόκολλο Διαδικτύου

Το IP χρησιμοποιείται για επικοινωνία μεταξύ δικτύων, όχι μόνο μέσω φυσικών συνδέσεων αλλά και μεταξύ δικτύων δρομολογητών. Το σύστημα διευθύνσεων μπορεί να είναι είτε **IPv4** ("IP Version 4") είτε **IPv6** ("IP Version 6").  

Τα δίκτυα IP χωρίζονται σε υποδίκτυα (subnets) μέσω μιας **μάσκας δικτύου (netmask)**, που καθορίζει πόσο μεγάλο είναι το δίκτυο και ποια πακέτα παραμένουν μέσα στο δίκτυο ή πρέπει να προωθηθούν έξω.  

**Παράδειγμα Slash Notation και Netmask:**

| IP Διεύθυνση | Slash Notation | Netmask |
|---------------|----------------|---------|
| 10.0.0.1      | /8 – π.χ. 10.0.0.1/8 | 255.0.0.0 |
| 172.16.1.1    | /12 – π.χ. 172.16.1.1/12 | 255.240.0.0 |
| 192.168.0.1   | /16 – π.χ. 192.168.0.1/16 | 255.255.0.0 |
| 192.168.0.1   | /24 – π.χ. 192.168.0.1/24 | 255.255.255.0 |

Ορισμένες IP διευθύνσεις προορίζονται μόνο για εσωτερική χρήση και δεν πρέπει να δρομολογούνται στο Internet (RFC1918).  

### Διαφορετικά Δίκτυα RFC1918

- 10.0.0.0/8 → πάνω από 16 εκατ. διευθύνσεις  
- 172.16.0.0/12 → περίπου 1 εκατ. διευθύνσεις  
- 192.168.0.0/16 → 65.534 διευθύνσεις  

Κάθε δίκτυο έχει **broadcast address**, που χρησιμοποιείται για αποστολή δεδομένων σε όλους τους hosts του δικτύου (π.χ., 192.168.0.255 για δίκτυο 192.168.0.0/24).  

Η **localhost διεύθυνση** είναι πάντα 127.0.0.1 (/8) και χρησιμοποιείται για επικοινωνία του υπολογιστή με τον εαυτό του.

Η δρομολόγηση γίνεται από **δρομολογητές (routers)**, οι οποίοι καταλαβαίνουν το IP πρωτόκολλο και προωθούν πακέτα μεταξύ δικτύων, σε αντίθεση με τα **switches** που μεταφέρουν δεδομένα μόνο μέσα σε ένα δίκτυο.

![Router και Switch](https://www.w3schools.com/cybersecurity/img_router_and_switch.png)

Τα πακέτα έχουν headers που περιγράφουν σημαντικά στοιχεία, π.χ., IPv4 Header:  

![IPv4 Header](https://www.w3schools.com/cybersecurity/img_ip-header.png)  
*Πηγή: Michel Bakni - Postel, J. (September 1981) RFC 791, Internet Protocol, DARPA Internet Program Protocol Specification, The Internet Society, p. 11 DOI: 10.17487/RFC0791., CC BY-SA 4.0*

Το **Source Address** είναι η IP που στέλνει το πακέτο, το **Destination** σε ποιον προορίζεται. Άλλα πεδία χρησιμοποιούνται από το πρωτόκολλο IP.

---

## NAT – Μετάφραση Διευθύνσεων Δικτύου

Το NAT επιτρέπει σε συστήματα με **δημόσιες IP** να δρομολογούν αιτήματα σε **εσωτερικές διευθύνσεις RFC1918** και αντίστροφα. Συνήθως γίνεται σε **firewalls ή routers**.  

Κλασική χρήση: μία δημόσια IP “κρύβει” πολλούς εσωτερικούς servers, χρησιμοποιώντας τον αριθμό θύρας για να καθορίσει σε ποιον server θα σταλούν τα δεδομένα.  

![NAT Port](https://www.w3schools.com/cybersecurity/img_nat-port.svg)

Άλλη συνηθισμένη χρήση: τα εσωτερικά δίκτυα να έχουν πρόσβαση στο Internet μέσω μιας δημόσιας IP, ενώ το NAT παρακολουθεί τις συνδέσεις και δρομολογεί την επιστροφή των δεδομένων.

> **Σημείωση:** Το NAT δίνει ευελιξία στους μηχανικούς δικτύου, επιτρέποντας πολλαπλά σενάρια χρήσης.

---

## IPv6 – Η Έκδοση 6 του IP

IPv6 χρησιμοποιεί **128 bits** αντί 32 bits του IPv4, ώστε να υποστηρίζει περισσότερες IP διευθύνσεις.  

Μορφή IPv6: 8 ομάδες των 4 δεκαεξαδικών ψηφίων, π.χ. `2a00:1450:400f:80a::200e`.  
Συντομεύσεις:  
- Απαλείφονται οι πρώτοι μηδενικοί σε κάθε ομάδα  
- Διπλή άνω και κάτω τελεία (::) αντικαθιστά συνεχόμενες ομάδες μηδενικών  

IPv6 υποστηρίζει υποδίκτυα όπως το IPv4, αλλά με μεγαλύτερη χωρητικότητα και απλούστερο header.  

![IPv6 Header](https://www.w3schools.com/cybersecurity/img_ipv6_header-en.svg)

Μπορούμε να αλλάζουμε μεταξύ IPv4 και IPv6 με `ping -4` και `ping -6`. Αν δεν έχετε IPv6, πολλοί δημόσιοι πάροχοι προσφέρουν πειραματικές διευθύνσεις IPv6.

---

## ICMP

Το ICMP συνδέεται με **Ping** και **Traceroute**, αλλά χρησιμοποιείται και για:  
- Αίτηση ώρας (ICMP Timestamp request)  
- Έλεγχο διαθεσιμότητας hosts (Ping Sweep)  

---

## Traceroute

Εντοπίζει τους δρομολογητές που περνάει ένα πακέτο. Κάθε router μειώνει το TTL ή Hop Limit κατά 1. Αν φτάσει στο 0, το πακέτο απορρίπτεται και επιστρέφεται ICMP Time Exceeded.

- Windows: `tracert google.com`  
- Linux: `traceroute google.com`

---

## DNS – Σύστημα Ονοματοδοσίας

Μετατρέπει ονόματα σε IP διευθύνσεις. Οι DNS servers μπορεί να έχουν cache με TTL για προσωρινή αποθήκευση. Αν δεν έχουν την απάντηση, ρωτούν ιεραρχικά μέχρι τον **Authoritative Name Server**.  

Δοκιμή:  
- Windows: `nslookup w3schools.com`  
- Linux: `dig w3schools.com`  

![DNS Lookup](https://www.w3schools.com/cybersecurity/img_dns-dig.png)

---

## DHCP – Dynamic Host Configuration Protocol

Δίνει σε συστήματα αυτόματα **IP, subnet, gateway, DNS**.  
- Διευκολύνει τη διαχείριση συσκευών που εισέρχονται και εξέρχονται από το δίκτυο.  
- Έλεγχος: Windows `ipconfig /all` → "DHCP Enabled: Yes"

---

## VPN – Virtual Private Network

Το VPN δημιουργεί **κρυπτογραφημένη σύνδεση** μεταξύ συστημάτων.  
- Επιτρέπει πρόσβαση σε εσωτερικούς πόρους (π.χ., εταιρικό δίκτυο)  
- Προστατεύει ιδιωτικότητα και δεδομένα εν κινήσει  

![VPN](https://www.w3schools.com/cybersecurity/img_vpn2.png)  

Κάποια δωρεάν VPN μπορεί να είναι κακόβουλα, καταγράφοντας δεδομένα:  

![Malicious VPN](https://www.w3schools.com/cybersecurity/img_vpn-malicious.png)
